# 🎮 GitHub 프로필 대시보드 시스템 - 완전 정복 가이드

> 15살도 이해할 수 있는 전체 시스템 설명

---

## 📚 목차
1. [전체 시스템 개요](#-전체-시스템-개요)
2. [시스템 1: GitHub 프로필 카드](#-시스템-1-github-프로필-카드)
3. [시스템 2: 주간 대시보드](#-시스템-2-주간-대시보드)
4. [숫자의 흐름: 데이터 정확성](#-숫자의-흐름-데이터-정확성)
5. [Git Workflow란?](#-git-workflow란)
6. [실전 예시](#-실전-예시)

---

## 🎯 전체 시스템 개요

### 핵심 개념
당신의 GitHub 프로필에는 **자동으로 업데이트되는 2개의 이미지**가 있습니다:

1. **프로필 카드** (위쪽) - GitHub API에서 전체 활동 통계를 가져옴
2. **주간 대시보드** (아래쪽) - Slack 입력 + git 커밋으로 매주 업데이트

### 큰 그림 도식

```
┌─────────────────────────────────────────────────────────────────────┐
│                         GitHub 프로필 (README.md)                     │
│                                                                       │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  프로필 카드: GitHub API에서 2020-2025 데이터 자동 수집         │  │
│  │  • 총 커밋: 1,476 (97%)                                         │  │
│  │  • 코드 리뷰: 23 (2%)                                           │  │
│  │  • Pull Requests: 12 (1%)                                      │  │
│  │  • Issues: 8 (1%)                                              │  │
│  │  🔄 매시간 자동 업데이트 (GitHub Actions)                       │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  주간 대시보드: 이번 주 그라인드 지표 (10/27 - 11/2)            │  │
│  │  ┌──────────┬──────────┬──────────┐                           │  │
│  │  │ 커밋: 120│ 유저톡:15│ SNS: 9   │                           │  │
│  │  ├──────────┼──────────┼──────────┤                           │  │
│  │  │ 커피챗: 2│ 운동: 9  │ 블로그: 1│                           │  │
│  │  └──────────┴──────────┴──────────┘                           │  │
│  │  🔄 Slack 입력 시 즉시 업데이트 + 매일 리마인더 (7 AM/PM)      │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│  📊 주간 히스토리 테이블 + 누적 진행 차트 (최근 12주)                │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 🎨 시스템 1: GitHub 프로필 카드

### 작동 원리 (간단 버전)

```
[GitHub API]
    ↓
[2020-2025년 데이터 수집]
    ↓
[파이 차트 + 통계 생성]
    ↓
[SVG 이미지 파일 생성]
    ↓
[GitHub에 자동 커밋]
    ↓
[README에 표시]
```

### 상세 데이터 흐름

```
┌─────────────────────────────────────────────────────────────────────┐
│  Step 1: GitHub Actions가 매시간 자동 실행                           │
│  Trigger: cron: "0 * * * *" (매 시각 정각에)                         │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 2: GitHub GraphQL API 호출 (graphql_stats.py)                 │
│                                                                       │
│  🔁 2020년부터 2025년까지 연도별 반복 (6년간)                         │
│                                                                       │
│  각 연도마다:                                                         │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  Query: contributionsCollection(from: 2020-01-01, to: 2020-12-31) │
│  │  ↓                                                              │  │
│  │  Response: {                                                   │  │
│  │    totalCommitContributions: XXX         → all_stats['commits']  │
│  │    totalPullRequestReviewContributions: YYY → all_stats['reviews']│
│  │    totalPullRequestContributions: ZZZ    → all_stats['pull_requests']│
│  │    totalIssueContributions: WWW          → all_stats['issues']   │
│  │  }                                                              │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│  2020 + 2021 + 2022 + 2023 + 2024 + 2025 = 총합                      │
│                                                                       │
│  📊 최종 결과:                                                        │
│  • Commits: 1,476                                                    │
│  • Reviews: 23                                                       │
│  • Pull Requests: 12                                                 │
│  • Issues: 8                                                         │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 3: 파이 차트 생성 (generate_profile_card.py)                   │
│                                                                       │
│  Total = 1,476 + 23 + 12 + 8 = 1,519                                │
│                                                                       │
│  퍼센트 계산:                                                         │
│  • Commits: 1,476 / 1,519 × 100 = 97%   (파란색)                    │
│  • Reviews: 23 / 1,519 × 100 = 2%       (초록색)                    │
│  • PRs: 12 / 1,519 × 100 = 1%           (노란색)                    │
│  • Issues: 8 / 1,519 × 100 = 1%         (빨간색)                    │
│                                                                       │
│  ┌─────────────────────────────────────┐                            │
│  │         파이 차트 (144×144px)        │                            │
│  │                                      │                            │
│  │         ╱───────────╲                │                            │
│  │       ╱      97%      ╲ (파란색)     │                            │
│  │     ╱                   ╲            │                            │
│  │    │         ●          │            │                            │
│  │     ╲   2% 1% 1%      ╱             │                            │
│  │       ╲──────────────╱               │                            │
│  │                                      │                            │
│  │  Legend:                             │                            │
│  │  🔵 Commits: 1,476 (97%)            │                            │
│  │  🟢 Reviews: 23 (2%)                │                            │
│  │  🟡 PRs: 12 (1%)                    │                            │
│  │  🔴 Issues: 8 (1%)                  │                            │
│  └─────────────────────────────────────┘                            │
│                                                                       │
│  우측 통계:                                                           │
│  • Total Commits: 1,476                                              │
│  • Joined: Jan 2025                                                  │
│  • Daily avg: 1,476 ÷ 301일 = 4.9 commits/day                       │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 4: SVG 파일 저장                                                │
│  파일명: profile-summary-card-output/default/0-profile-details.svg   │
│  크기: 500×220 픽셀                                                   │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 5: Git에 자동 커밋 & 푸시                                       │
│  명령어:                                                              │
│  $ git add profile-summary-card-output/                              │
│  $ git commit -m "update: automated profile cards generation..."     │
│  $ git push                                                          │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 6: README.md에 자동 표시                                        │
│  <img src="https://raw.githubusercontent.com/.../0-profile-details.svg">│
│  → GitHub이 자동으로 최신 이미지 로드!                                 │
└─────────────────────────────────────────────────────────────────────┘
```

### 🔍 중요 포인트: 숫자의 정확성

**Q: 프로필 카드의 커밋 수 (1,476)와 주간 대시보드의 커밋 수 (120)가 다른 이유는?**

A: **완전히 다른 데이터 소스**를 사용하기 때문입니다:

```
프로필 카드 커밋 (1,476)
├─ 소스: GitHub GraphQL API
├─ 기간: 2020년 1월 1일 ~ 2025년 현재 (6년간)
├─ 범위: 모든 레포지토리 (private 포함)
└─ 업데이트: 매시간 자동 (GitHub Actions)

주간 대시보드 커밋 (120)
├─ 소스: 로컬 git 명령어 (git rev-list)
├─ 기간: 이번 주 월요일 ~ 현재 (10/27 ~ 10/28, 2일간)
├─ 범위: 현재 레포지토리만 (Piesson/Piesson)
└─ 업데이트: data.json 변경 시마다 (Slack 입력 후)
```

---

## 📊 시스템 2: 주간 대시보드

### 작동 원리 (간단 버전)

```
[Slack에 숫자 입력]
    ↓
[data.json에 추가]
    ↓
[SVG 대시보드 생성]
    ↓
[GitHub에 자동 커밋]
    ↓
[README에 표시]
```

### 상세 데이터 흐름

#### 플로우 A: 매일 Slack 리마인더 (7 AM / 7 PM KST)

```
┌─────────────────────────────────────────────────────────────────────┐
│  매일 오전 7시 / 오후 7시 (KST)                                       │
│  GitHub Actions가 자동 실행                                           │
│                                                                       │
│  Cron:                                                                │
│  • 월요일 7 AM: 0 22 * * 1  (주간 리셋만, 리마인더 스킵)               │
│  • 화~일 7 AM: 0 22 * * 2-0 (아침 리마인더)                          │
│  • 매일 7 PM: 0 10 * * *    (저녁 리마인더)                          │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 1: 주간 리셋 체크 (check_weekly_reset.py)                      │
│                                                                       │
│  현재 주 월요일 계산: today - timedelta(days=today.weekday())         │
│  저장된 월요일: data.json → currentWeek.startDate                    │
│                                                                       │
│  IF 새로운 주 (월요일 날짜 다름):                                      │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  ✅ 주간 리셋 실행                                              │  │
│  │  1. 지난 주 데이터를 weeklyHistory에 저장                       │  │
│  │  2. 모든 메트릭을 0으로 리셋                                    │  │
│  │  3. startDate/endDate를 새 주로 업데이트                        │  │
│  │  4. data.json 저장                                             │  │
│  │  5. Exit code 0 반환 → 워크플로우에 "리셋 발생" 신호            │  │
│  └───────────────────────────────────────────────────────────────┘  │
│  ELSE:                                                                │
│  └─ Exit code 1 반환 → "리셋 안 함" 신호                              │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 2: 리셋이 발생했다면 (Exit code 0)                              │
│                                                                       │
│  A. 주간 히스토리 SVG 생성 (generate_weekly_history.py)               │
│     → dashboard/history/weekly_history_2025-W43.svg 생성             │
│                                                                       │
│  B. README 히스토리 테이블 업데이트 (update_readme_history.py)        │
│     → 최근 12주 테이블 + 누적 차트 URL 삽입                           │
│                                                                       │
│  C. README 차트 업데이트 (update_readme_charts.py)                    │
│     → 개별 메트릭 차트 URL 삽입 (Image-Charts API)                    │
│                                                                       │
│  D. Git 커밋 & 푸시                                                   │
│     $ git add dashboard/data.json dashboard/history/ README.md       │
│     $ git commit -m "Weekly reset: save history and reset metrics"   │
│     $ git push                                                        │
│                                                                       │
│  E. 월요일 요약 메시지 전송 (generate_weekly_summary.py)               │
│     → Slack 웹훅으로 지난 주 총합 + 평균 전송                          │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 3: 리마인더 필요 여부 체크 (check_daily_update.py)              │
│                                                                       │
│  IF 월요일 7 AM (CURRENT_HOUR=22, DAY_OF_WEEK=1):                    │
│  └─ 리마인더 스킵 (주간 요약이 이미 전송됨)                            │
│                                                                       │
│  ELSE:                                                                │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  data.json → lastUpdated 확인                                  │  │
│  │  오늘 날짜 (KST)와 비교                                         │  │
│  │                                                                 │  │
│  │  IF lastUpdated ≠ 오늘:                                        │  │
│  │  └─ Exit code 0 (리마인더 전송 필요)                           │  │
│  │                                                                 │  │
│  │  ELSE:                                                          │  │
│  │  └─ Exit code 1 (오늘 이미 업데이트함, 리마인더 스킵)           │  │
│  └───────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 4: 리마인더 전송 (Exit code 0인 경우)                           │
│                                                                       │
│  시간 감지:                                                           │
│  • CURRENT_HOUR=22 (UTC) = 7 AM KST → MESSAGE_TYPE="morning"        │
│  • CURRENT_HOUR=10 (UTC) = 7 PM KST → MESSAGE_TYPE="evening"        │
│                                                                       │
│  generate_slack_message.py 실행:                                     │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  1. data.json에서 현재 메트릭 로드                              │  │
│  │  2. git에서 이번 주 커밋 카운트                                 │  │
│  │     $ git rev-list --count --since <Monday UTC> HEAD           │  │
│  │  3. Slack 메시지 JSON 생성                                     │  │
│  │                                                                 │  │
│  │  Morning 메시지:                                                │  │
│  │  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │  │
│  │  🔥 ⏰ Time to grind                                           │  │
│  │  📅 Week 44: 10/27/2025 — 11/02/2025                          │  │
│  │                                                                 │  │
│  │  📊 THIS WEEK SO FAR:                                          │  │
│  │  🚀 Code Commits: 120                                          │  │
│  │  💬 User Talks: 15                                             │  │
│  │  📱 Social Posts: 9 (IG: 5, TT: 3, HT: 1)                     │  │
│  │  ☕ Coffee Chats: 2                                             │  │
│  │  🏃 Workouts: 9 (Run: 3, Gym: 6)                              │  │
│  │  📝 Blog Posts: 1                                              │  │
│  │                                                                 │  │
│  │  🎯 UPDATE FORMAT:                                             │  │
│  │  1 0 0 2 0 0 1 1                                              │  │
│  │  (IG TT HT UserTalks Chats Posts Run Gym)                     │  │
│  │                                                                 │  │
│  │  Let's ship it! 🚀                                             │  │
│  │  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │  │
│  │                                                                 │  │
│  │  Evening 메시지:                                                │  │
│  │  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │  │
│  │  🚨 GRIND CHECK: Still 0 today?                               │  │
│  │  ⚠️ No update received yet                                    │  │
│  │  Time to lock in! 💪                                           │  │
│  │  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│  4. curl POST to SLACK_WEBHOOK_URL                                   │
└─────────────────────────────────────────────────────────────────────┘
```

#### 플로우 B: 사용자가 Slack에 데이터 입력

```
┌─────────────────────────────────────────────────────────────────────┐
│  사용자가 Slack에 입력                                                 │
│  "1 0 0 2 0 0 1 1"                                                   │
│                                                                       │
│  순서: IG TT HT UserTalks CoffeeChats BlogPosts Running Gym          │
│        1  0  0     2         0          0        1       1           │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Slack Workflow → GitHub Actions 수동 트리거                          │
│  workflow_dispatch 이벤트                                             │
│  Input: metrics = "1 0 0 2 0 0 1 1"                                 │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  slack_update.py 실행                                                 │
│                                                                       │
│  Step 1: 입력 파싱 (parse_metrics)                                   │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│  텍스트: "1 0 0 2 0 0 1 1"                                           │
│  정규식으로 숫자 추출: [1, 0, 0, 2, 0, 0, 1, 1]                       │
│                                                                       │
│  len(numbers) = 8 이므로 → 8-숫자 포맷 사용                           │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  Position → Metric                                             │  │
│  │  [0] = 1 → instagram                                           │  │
│  │  [1] = 0 → tiktok                                              │  │
│  │  [2] = 0 → hellotalk                                           │  │
│  │  [3] = 2 → usertalks                                           │  │
│  │  [4] = 0 → coffeechats                                         │  │
│  │  [5] = 0 → blogposts                                           │  │
│  │  [6] = 1 → running                                             │  │
│  │  [7] = 1 → gym                                                 │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│  결과: { instagram: 1, tiktok: 0, hellotalk: 0, usertalks: 2, ... }  │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 2: data.json 업데이트 (update_data) - ⚠️ 가산 방식             │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                       │
│  1. data.json 로드:                                                  │
│     현재 값:                                                          │
│     ┌──────────────────┬─────────┐                                   │
│     │ instagram        │ 5       │  ← 기존 값                        │
│     │ tiktok           │ 3       │                                   │
│     │ hellotalk        │ 1       │                                   │
│     │ userSessions     │ 15      │                                   │
│     │ ctoMeetings      │ 2       │                                   │
│     │ blogPosts        │ 1       │                                   │
│     │ running          │ 3       │                                   │
│     │ gym              │ 6       │                                   │
│     └──────────────────┴─────────┘                                   │
│                                                                       │
│  2. 🔢 가산 계산 (ADDITIVE):                                          │
│     새 입력:  { instagram: 1, tiktok: 0, ..., usertalks: 2, ... }    │
│                                                                       │
│     ┌──────────────────┬─────────┬─────────┬─────────┐               │
│     │ Metric           │ 기존    │ 새 입력 │ 결과    │               │
│     ├──────────────────┼─────────┼─────────┼─────────┤               │
│     │ instagram        │ 5       │ + 1     │ = 6     │               │
│     │ tiktok           │ 3       │ + 0     │ = 3     │               │
│     │ hellotalk        │ 1       │ + 0     │ = 1     │               │
│     │ userSessions     │ 15      │ + 2     │ = 17    │               │
│     │ ctoMeetings      │ 2       │ + 0     │ = 2     │               │
│     │ blogPosts        │ 1       │ + 0     │ = 1     │               │
│     │ running          │ 3       │ + 1     │ = 4     │               │
│     │ gym              │ 6       │ + 1     │ = 7     │               │
│     └──────────────────┴─────────┴─────────┴─────────┘               │
│                                                                       │
│  3. lastUpdated 업데이트:                                             │
│     datetime.now(KST).strftime("%Y-%m-%d") → "2025-10-28"           │
│                                                                       │
│  4. data.json 저장 → 파일 업데이트                                    │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 3: Slack 확인 메시지 전송 (send_confirmation_message)          │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│  ✅ Well done! Progress updated successfully!                        │
│                                                                       │
│  🔄 ADDED TODAY:                                                     │
│  ├─ Social: +1 (IG: +1, TT: +0, HT: +0)                             │
│  ├─ User Talks: +2                                                   │
│  ├─ Coffee Chats: +0                                                 │
│  ├─ Workouts: +2 (Run: +1, Gym: +1)                                 │
│  └─ Blog Posts: +0                                                   │
│                                                                       │
│  📊 NEW TOTALS:                                                      │
│  ├─ Social Posts: 10 total                                          │
│  ├─ User Talks: 17                                                  │
│  ├─ Coffee Chats: 2                                                 │
│  ├─ Workouts: 11 sessions                                           │
│  └─ Blog Posts: 1                                                   │
│                                                                       │
│  Keep building! 🚀                                                   │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 4: Git Push → update-dashboard 워크플로우 자동 트리거           │
│                                                                       │
│  Push 이벤트 발생 (dashboard/data.json 변경)                         │
│  ↓                                                                    │
│  update_dashboard.yml → update-dashboard job 실행                    │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 5: 대시보드 SVG 생성 (generate_svg.py)                         │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                       │
│  1. 커밋 수 자동 계산 (git):                                          │
│     today = datetime.now(KST)                                        │
│     monday = today - timedelta(days=today.weekday())                 │
│     monday_utc = monday.astimezone(timezone.utc)                     │
│                                                                       │
│     $ git rev-list --count --since "2025-10-26 15:00:00 UTC" HEAD   │
│       (Monday 10/27 00:00:00 KST = Sunday 10/26 15:00:00 UTC)       │
│     → 결과: 121                                                       │
│                                                                       │
│     ⚠️ data.json의 commits 필드를 121로 덮어쓰기 (auto-overwrite)     │
│                                                                       │
│  2. data.json 로드 (업데이트된 커밋 포함):                             │
│     ┌─────────────────┬─────────┐                                    │
│     │ commits         │ 121     │ ← git에서 자동 계산                │
│     │ instagram       │ 6       │                                    │
│     │ tiktok          │ 3       │                                    │
│     │ hellotalk       │ 1       │                                    │
│     │ userSessions    │ 17      │                                    │
│     │ ctoMeetings     │ 2       │                                    │
│     │ blogPosts       │ 1       │                                    │
│     │ running         │ 4       │                                    │
│     │ gym             │ 7       │                                    │
│     └─────────────────┴─────────┘                                    │
│                                                                       │
│  3. 주차 날짜 계산 (KST):                                             │
│     monday.strftime('%m/%d/%Y') → "10/27/2025"                      │
│     sunday.strftime('%m/%d/%Y') → "11/02/2025"                      │
│                                                                       │
│  4. SVG 생성 (520×330px):                                            │
│     ┌─────────────────────────────────────────────────────────────┐ │
│     │  Moved the needle this week? 📈                              │ │
│     │  10/27/2025 — 11/02/2025                                    │ │
│     │                                                              │ │
│     │  ┌──────────┬──────────┬──────────┐                        │ │
│     │  │  121     │    17    │    10    │ (Card 1-3)             │ │
│     │  │ 🚀 COMMITS│ 💬 TALKS │ 📱 SOCIAL│                        │ │
│     │  │ Daily:20 │ Daily:1  │IG:6 TT:3 │                        │ │
│     │  ├──────────┼──────────┼──────────┤                        │ │
│     │  │    2     │    11    │    1     │ (Card 4-6)             │ │
│     │  │ ☕ CHATS │ 🏃 WORKOUT│ 📝 POSTS │                        │ │
│     │  │ Weekly:2 │ Run:4 Gym│ AI & ST  │                        │ │
│     │  └──────────┴──────────┴──────────┘                        │ │
│     └─────────────────────────────────────────────────────────────┘ │
│                                                                       │
│  5. 저장: dashboard/weekly_dashboard.svg                             │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 6: README 업데이트                                              │
│                                                                       │
│  update_readme_history.py:                                           │
│  • 주간 히스토리 테이블 업데이트 (최근 12주)                           │
│  • 누적 진행 차트 URL 업데이트 (Image-Charts API)                     │
│                                                                       │
│  update_readme_charts.py:                                            │
│  • 개별 메트릭 차트 URL 업데이트                                       │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 7: Git 커밋 & 푸시                                              │
│  $ git add dashboard/weekly_dashboard.svg README.md                  │
│  $ git commit -m "update: automated dashboard generation"           │
│  $ git push                                                          │
└─────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────┐
│  Step 8: README.md에 자동 표시                                        │
│  <img src="https://raw.githubusercontent.com/.../weekly_dashboard.svg">│
│  → GitHub이 최신 이미지 로드! 🎉                                      │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 🔢 숫자의 흐름: 데이터 정확성

### 핵심 원칙

```
┌─────────────────────────────────────────────────────────────────────┐
│  원칙 1: 단일 진실 소스 (Single Source of Truth)                     │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                       │
│  각 메트릭은 하나의 소스만 가짐:                                       │
│                                                                       │
│  📊 프로필 카드 (전체 통계):                                          │
│  • 소스: GitHub GraphQL API (2020-2025)                              │
│  • 저장: 저장 안 함 (매시간 새로 조회)                                 │
│  • 범위: 모든 레포지토리 (private 포함)                                │
│                                                                       │
│  📊 주간 대시보드 - 커밋:                                              │
│  • 소스: git rev-list (로컬 git 명령어)                               │
│  • 저장: data.json에 자동 덮어쓰기 (매번)                             │
│  • 범위: 현재 레포지토리 (Piesson/Piesson)                            │
│  • 기간: 이번 주 월요일 00:00 KST ~ 현재                              │
│                                                                       │
│  📊 주간 대시보드 - 기타 메트릭:                                        │
│  • 소스: Slack 사용자 입력                                             │
│  • 저장: data.json (가산 방식)                                        │
│  • 범위: 현재 주만 (월요일마다 리셋)                                   │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│  원칙 2: 가산 vs 덮어쓰기                                             │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                       │
│  🔢 가산 방식 (ADDITIVE) - Slack 입력 메트릭:                         │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  현재 값: { instagram: 5 }                                     │  │
│  │  새 입력: { instagram: 1 }                                     │  │
│  │  결과:    { instagram: 5 + 1 = 6 }                            │  │
│  │                                                                 │  │
│  │  이유: 매일 여러 번 입력 가능하므로 누적해야 함                  │  │
│  │  예: 오전에 1개, 오후에 2개 → 총 3개                            │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│  ✏️ 덮어쓰기 방식 (OVERWRITE) - Git 커밋:                            │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  현재 값: { commits: 100 }                                     │  │
│  │  새 계산: git rev-list → 121                                   │  │
│  │  결과:    { commits: 121 }  (100 무시, 121로 교체)            │  │
│  │                                                                 │  │
│  │  이유: git이 이미 누적 카운트를 제공하므로 재계산만 필요         │  │
│  │  Git은 절대 값을 주므로 더할 필요 없음                          │  │
│  └───────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│  원칙 3: 타임존 일관성 (KST)                                          │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                       │
│  모든 날짜/시간 계산은 KST (UTC+9) 기준:                              │
│                                                                       │
│  1. 주차 계산:                                                        │
│     today = datetime.now(KST)                                        │
│     monday = today - timedelta(days=today.weekday())                 │
│                                                                       │
│  2. Git 명령어 변환:                                                  │
│     monday_kst = 2025-10-27 00:00:00 +09:00                          │
│     monday_utc = 2025-10-26 15:00:00 +00:00  ← git --since에 사용    │
│                                                                       │
│  3. lastUpdated 저장:                                                 │
│     datetime.now(KST).strftime("%Y-%m-%d") → "2025-10-27"           │
│                                                                       │
│  ⚠️ 왜 UTC 변환이 필요한가?                                           │
│  Git 명령어는 항상 UTC를 사용하므로, KST 월요일 00:00을               │
│  UTC로 변환하지 않으면 9시간 차이로 인해 잘못된 커밋을 카운트함        │
└─────────────────────────────────────────────────────────────────────┘
```

### 실제 숫자 검증 (2025년 10월 28일 기준)

```
┌─────────────────────────────────────────────────────────────────────┐
│  검증 1: Week 43 (10/20-10/26) 커밋 수 불일치                         │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                       │
│  data.json 기록: 83 commits                                          │
│  실제 git 로그: 42 commits                                            │
│                                                                       │
│  불일치 원인: data.json이 수동으로 편집됨 (83으로 변경)                │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  $ git log --all --since="2025-10-20" --until="2025-10-26"    │  │
│  │    --oneline | wc -l                                           │  │
│  │  → 42 commits (진짜 값)                                        │  │
│  │                                                                 │  │
│  │  data.json → weeklyHistory → week: "2025-W43"                 │  │
│  │  → commits: 83 (수동 편집 값)                                  │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│  교훈: 히스토리 데이터는 스냅샷이므로 수동 편집 가능                    │
│       현재 주 데이터는 자동 계산되므로 항상 정확함                     │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│  검증 2: 현재 주 (Week 44, 10/27-) 커밋 수                            │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                       │
│  data.json 기록: 120 commits                                         │
│  실제 git 로그: 121 commits                                           │
│                                                                       │
│  차이 원인: data.json이 아직 업데이트 안 됨 (1개 차이)                 │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  $ git log --all --since="2025-10-27" --oneline | wc -l       │  │
│  │  → 121 commits (최신 값)                                       │  │
│  │                                                                 │  │
│  │  다음 generate_svg.py 실행 시 자동으로 121로 업데이트됨        │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│  교훈: 현재 주 커밋은 항상 git에서 재계산되므로 최종적으로 정확함      │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│  검증 3: 프로필 카드 vs 주간 대시보드 커밋 비교                        │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                       │
│  프로필 카드: 1,476 commits (2020-2025 전체)                         │
│  주간 대시보드: 121 commits (10/27-10/28, 2일간)                     │
│                                                                       │
│  왜 다른가?                                                           │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  프로필 카드:                                                   │  │
│  │  • 소스: GitHub GraphQL API                                    │  │
│  │  • 쿼리: 2020-01-01 ~ 2025-12-31 (6년)                        │  │
│  │  • 범위: 모든 레포지토리 (public + private)                    │  │
│  │  • 계산: 6년 치 누적                                           │  │
│  │                                                                 │  │
│  │  주간 대시보드:                                                 │  │
│  │  • 소스: git rev-list (로컬)                                   │  │
│  │  • 쿼리: 2025-10-27 00:00 ~ 현재                              │  │
│  │  • 범위: Piesson/Piesson 레포지토리만                          │  │
│  │  • 계산: 이번 주만                                             │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│  완전히 다른 목적:                                                    │
│  • 프로필 카드: 전체 경력 요약                                        │
│  • 주간 대시보드: 이번 주 집중 추적                                   │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 🔧 Git Workflow란?

### GitHub Actions의 자동화

**Git Workflow = GitHub에서 자동으로 실행되는 프로그램**

```
일반적인 프로그래밍:
당신이 수동으로 → python script.py → 결과 확인

GitHub Actions:
시간/이벤트 발생 → GitHub이 자동으로 → python script.py → 자동 커밋/푸시
```

### 3가지 Workflow 설명

#### 1. `profile-summary-cards.yml` (프로필 카드)

```yaml
name: GitHub-Profile-Summary-Cards

on:
  schedule:
    - cron: "0 * * * *"  # 매시간 실행 (00:00, 01:00, 02:00, ...)
  workflow_dispatch:      # 수동 실행도 가능

jobs:
  build:
    runs-on: ubuntu-latest  # GitHub의 우분투 서버에서 실행
    steps:
      1. 코드 체크아웃 (레포지토리 다운로드)
      2. GitHub API 호출 (2020-2025 데이터)
      3. SVG 이미지 생성
      4. Git 커밋 & 푸시 (자동으로 main 브랜치에)
```

**트리거 시간 (KST 기준):**
- 00:00, 01:00, 02:00, ..., 23:00 (매시간)
- 예: 09:00 UTC = 18:00 KST

#### 2. `update_dashboard.yml` (주간 대시보드)

```yaml
name: Update Dashboard

on:
  schedule:
    - cron: '0 22 * * 1'   # 월요일 7 AM KST (주간 리셋)
    - cron: '0 22 * * 2-0' # 화~일 7 AM KST (아침 리마인더)
    - cron: '0 10 * * *'   # 매일 7 PM KST (저녁 리마인더)
  push:
    paths:
      - 'dashboard/data.json'  # data.json 변경 시에도 실행

jobs:
  daily-reminder:        # Job 1: 리마인더 전송
    if: schedule 또는 workflow_dispatch
    steps:
      1. 주간 리셋 체크 (월요일인가?)
      2. 리셋이면 히스토리 저장 + 메트릭 리셋
      3. 업데이트 체크 (오늘 입력했나?)
      4. 안 했으면 Slack 리마인더 전송

  update-dashboard:      # Job 2: 대시보드 생성
    if: push 이벤트
    steps:
      1. 코드 체크아웃
      2. Git에서 커밋 수 계산
      3. SVG 대시보드 생성
      4. README 업데이트 (히스토리 + 차트)
      5. Git 커밋 & 푸시
```

**Cron 설명:**
```
'0 22 * * 1' 의미:
 │  │  │ │ │
 │  │  │ │ └─ 1 = 월요일
 │  │  │ └─── * = 매월
 │  │  └───── * = 매일
 │  └──────── 22 = 22시 (UTC)
 └─────────── 0 = 0분

UTC 22:00 = KST 07:00 (다음날)
예: UTC 월요일 22:00 = KST 화요일 07:00 (X)
    UTC 일요일 22:00 = KST 월요일 07:00 (O) ← 실제 의도
```

#### 3. `slack_response.yml` (Slack 입력 처리)

```yaml
name: Process Slack Response

on:
  workflow_dispatch:  # 수동 트리거만 (Slack → GitHub Actions)
    inputs:
      metrics:
        description: 'Metrics from Slack'
        required: true
        type: string

jobs:
  update-metrics:
    steps:
      1. 코드 체크아웃
      2. slack_update.py 실행 (입력 파싱 + data.json 업데이트)
      3. generate_svg.py 실행 (대시보드 생성)
      4. Git 커밋 & 푸시 → 자동으로 update_dashboard.yml 트리거
```

**Workflow Dispatch:**
```
Slack에서 "1 0 0 2 0 0 1 1" 입력
    ↓
Slack Workflow가 GitHub API 호출
    ↓
POST https://api.github.com/repos/Piesson/Piesson/actions/workflows/slack_response.yml/dispatches
{
  "ref": "main",
  "inputs": {
    "metrics": "1 0 0 2 0 0 1 1"
  }
}
    ↓
GitHub Actions가 slack_response.yml 실행
```

### 워크플로우 간 연결

```
┌─────────────────────────────────────────────────────────────────────┐
│  워크플로우 체인 (Workflow Chain)                                     │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                       │
│  1. Slack 입력                                                        │
│     ↓                                                                 │
│  2. slack_response.yml 실행                                          │
│     • slack_update.py → data.json 업데이트                           │
│     • git push                                                       │
│     ↓ (push 이벤트 발생)                                              │
│  3. update_dashboard.yml 자동 트리거 (update-dashboard job)          │
│     • generate_svg.py → SVG 생성                                     │
│     • update_readme_*.py → README 업데이트                           │
│     • git push                                                       │
│     ↓                                                                 │
│  4. README.md에 최신 SVG 표시 ✅                                      │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 🎮 실전 예시

### 시나리오: 월요일부터 일요일까지의 일주일

#### Day 1: 월요일 (10/27) - 주간 리셋

```
07:00 KST (일요일 22:00 UTC)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. update_dashboard.yml → daily-reminder job 실행
   └─ check_weekly_reset.py 실행
      ├─ 현재 주 월요일: 2025-10-27
      ├─ 저장된 월요일: 2025-10-20
      └─ ❌ 다르다! 새로운 주 감지!

2. 주간 리셋 수행:
   ├─ 지난 주 데이터 저장:
   │  └─ weeklyHistory[0] = {
   │       week: "2025-W43",
   │       commits: 42 (git 실제 값),
   │       instagram: 0, tiktok: 0, hellotalk: 3,
   │       userSessions: 2, ...
   │     }
   ├─ 모든 메트릭 0으로 리셋
   └─ startDate: 2025-10-27, endDate: 2025-11-02

3. 히스토리 SVG 생성:
   └─ dashboard/history/weekly_history_2025-W43.svg

4. README 업데이트:
   ├─ 주간 히스토리 테이블 (최근 12주)
   └─ 누적 진행 차트 URL

5. Git 커밋:
   $ git add dashboard/data.json dashboard/history/ README.md
   $ git commit -m "Weekly reset: save history and reset metrics"
   $ git push

6. 월요일 요약 메시지 전송 (Slack):
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   📊 Week 43 (10/20-10/26) Summary

   Total:
   🚀 Commits: 42
   📱 Social: 3
   💬 User Talks: 2
   ☕ Coffee Chats: 0
   🏃 Workouts: 7
   📝 Blog Posts: 0

   Daily Average:
   • Commits: 6.0/day
   • User Talks: 0.3/day

   Ready for Week 44! 💪
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

7. 아침 리마인더 스킵 (월요일이므로 요약 메시지로 대체)
```

**data.json 상태 (리셋 후):**
```json
{
  "lastUpdated": "2025-10-27",
  "currentWeek": {
    "startDate": "2025-10-27",
    "endDate": "2025-11-02",
    "metrics": {
      "commits": 0,  ← git에서 다시 계산됨
      "socialContent": {"instagram": 0, "tiktok": 0, "hellotalk": 0},
      "userSessions": 0,
      "ctoMeetings": 0,
      "blogPosts": 0,
      "workouts": {"running": 0, "gym": 0}
    }
  },
  "weeklyHistory": [
    {
      "week": "2025-W43",
      "startDate": "10/20/2025",
      "endDate": "10/26/2025",
      "metrics": { "commits": 42, ... }  ← 저장됨
    },
    ...
  ]
}
```

#### Day 1: 월요일 오전 - 첫 작업 후

```
10:30 KST
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 코딩 작업:
   $ git add .
   $ git commit -m "feat: add login feature"  ← 커밋 1개
   $ git push

2. Slack에 활동 입력:
   "0 0 0 1 0 0 0 1"
   (IG:0 TT:0 HT:0 UserTalks:1 Chats:0 Posts:0 Run:0 Gym:1)

3. slack_response.yml 실행:
   ├─ slack_update.py
   │  ├─ 파싱: {instagram: 0, ..., usertalks: 1, ..., gym: 1}
   │  ├─ data.json 업데이트 (가산):
   │  │  userSessions: 0 + 1 = 1
   │  │  gym: 0 + 1 = 1
   │  └─ lastUpdated: "2025-10-27"
   └─ Slack 확인 메시지:
      ✅ Added: User Talks +1, Gym +1
      📊 Totals: User Talks: 1, Workouts: 1

4. update_dashboard.yml 자동 트리거 (push):
   ├─ generate_svg.py
   │  ├─ Git 커밋 카운트:
   │  │  $ git rev-list --count --since "2025-10-26 15:00:00 UTC" HEAD
   │  │  → 1 commit
   │  ├─ data.json 업데이트: commits: 1
   │  └─ SVG 생성:
   │     ┌──────────┬──────────┬──────────┐
   │     │    1     │    1     │    0     │
   │     │ COMMITS  │  TALKS   │  SOCIAL  │
   │     ├──────────┼──────────┼──────────┤
   │     │    0     │    1     │    0     │
   │     │  CHATS   │ WORKOUTS │  POSTS   │
   │     └──────────┴──────────┴──────────┘
   ├─ update_readme_*.py → README 업데이트
   └─ git commit & push
```

**data.json 상태:**
```json
{
  "lastUpdated": "2025-10-27",
  "currentWeek": {
    "metrics": {
      "commits": 1,  ← git에서 계산
      "socialContent": {"instagram": 0, "tiktok": 0, "hellotalk": 0},
      "userSessions": 1,  ← Slack 입력
      "ctoMeetings": 0,
      "blogPosts": 0,
      "workouts": {"running": 0, "gym": 1}  ← Slack 입력
    }
  }
}
```

#### Day 1: 월요일 저녁

```
19:00 KST (10:00 UTC)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. update_dashboard.yml → daily-reminder job 실행

2. check_weekly_reset.py:
   └─ 같은 주 (2025-10-27) → Exit code 1 (리셋 안 함)

3. check_daily_update.py:
   ├─ lastUpdated: "2025-10-27"
   ├─ 오늘: "2025-10-27"
   └─ ✅ 같다! Exit code 1 (리마인더 스킵)

4. 저녁 리마인더 전송 안 함 (이미 업데이트함)
```

#### Day 2: 화요일 아침 - 업데이트 없음

```
07:00 KST (월요일 22:00 UTC)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. update_dashboard.yml → daily-reminder job 실행

2. check_weekly_reset.py:
   └─ 같은 주 → Exit code 1

3. check_daily_update.py:
   ├─ lastUpdated: "2025-10-27" (어제)
   ├─ 오늘: "2025-10-28"
   └─ ❌ 다르다! Exit code 0 (리마인더 전송)

4. 아침 리마인더 전송 (Slack):
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   🔥 ⏰ Time to grind
   📅 Week 44: 10/27/2025 — 11/02/2025

   📊 THIS WEEK SO FAR:
   🚀 Code Commits: 1
   💬 User Talks: 1
   📱 Social Posts: 0
   ☕ Coffee Chats: 0
   🏃 Workouts: 1 (Run: 0, Gym: 1)
   📝 Blog Posts: 0

   🎯 UPDATE FORMAT:
   1 0 0 2 0 0 1 1
   (IG TT HT UserTalks Chats Posts Run Gym)

   Let's ship it! 🚀
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### Day 2: 화요일 오후 - 대량 활동

```
15:00 KST
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 하루 종일 작업:
   ├─ 코딩: 20 commits
   ├─ SNS: Instagram 1개, TikTok 0개, HelloTalk 0개
   ├─ 유저 토크: 2번
   ├─ 커피챗: 0번
   ├─ 블로그: 0개
   └─ 운동: 런닝 1회, 헬스장 0회

2. Slack 입력:
   "1 0 0 2 0 0 1 0"

3. slack_update.py:
   ├─ 기존 값:
   │  {instagram: 0, userSessions: 1, gym: 1, ...}
   ├─ 새 입력:
   │  {instagram: 1, userSessions: 2, running: 1, ...}
   └─ 가산 결과:
      {instagram: 0+1=1, userSessions: 1+2=3, gym: 1, running: 0+1=1}

4. generate_svg.py:
   ├─ Git 커밋 카운트:
   │  $ git rev-list --count --since "2025-10-26 15:00:00 UTC" HEAD
   │  → 21 commits (어제 1개 + 오늘 20개)
   └─ SVG 생성:
      ┌──────────┬──────────┬──────────┐
      │   21     │    3     │    1     │
      │ COMMITS  │  TALKS   │  SOCIAL  │
      ├──────────┼──────────┼──────────┤
      │    0     │    2     │    0     │
      │  CHATS   │ WORKOUTS │  POSTS   │
      └──────────┴──────────┴──────────┘

5. Slack 확인 메시지:
   ✅ Well done! Progress updated successfully!

   🔄 ADDED TODAY:
   ├─ Social: +1 (IG: +1, TT: +0, HT: +0)
   ├─ User Talks: +2
   ├─ Workouts: +1 (Run: +1, Gym: +0)

   📊 NEW TOTALS:
   ├─ Social Posts: 1 total
   ├─ User Talks: 3
   ├─ Workouts: 2 sessions (Run: 1, Gym: 1)
```

**data.json 상태:**
```json
{
  "lastUpdated": "2025-10-28",  ← 업데이트됨
  "currentWeek": {
    "metrics": {
      "commits": 21,  ← git에서 21로 자동 업데이트
      "socialContent": {"instagram": 1, "tiktok": 0, "hellotalk": 0},
      "userSessions": 3,  ← 1 + 2 = 3
      "ctoMeetings": 0,
      "blogPosts": 0,
      "workouts": {"running": 1, "gym": 1}  ← running 추가
    }
  }
}
```

#### Day 7: 일요일 저녁 - 주간 마무리

```
19:00 KST
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 저녁 리마인더 수신 (lastUpdated가 어제라면)

2. 최종 활동 입력:
   "1 1 0 3 1 1 0 1"

3. 일주일 총합 (예시):
   ├─ Commits: 120 (git 자동 카운트)
   ├─ Social: 9 (IG: 5, TT: 3, HT: 1)
   ├─ User Talks: 15
   ├─ Coffee Chats: 2
   ├─ Workouts: 9 (Run: 3, Gym: 6)
   └─ Blog Posts: 1

4. README에 표시:
   ┌──────────┬──────────┬──────────┐
   │   120    │    15    │    9     │
   │ COMMITS  │  TALKS   │  SOCIAL  │
   ├──────────┼──────────┼──────────┤
   │    2     │    9     │    1     │
   │  CHATS   │ WORKOUTS │  POSTS   │
   └──────────┴──────────┴──────────┘

5. 월요일 00:00 KST가 되면:
   └─ 자동으로 주간 리셋 (다시 Day 1로)
```

---

## 🎓 핵심 요약

### 3줄 요약

1. **프로필 카드**: GitHub API가 매시간 전체 활동 통계를 가져와서 파이 차트 생성
2. **주간 대시보드**: Slack 입력 + git 커밋으로 이번 주 진행 상황 추적 (월요일마다 리셋)
3. **자동화**: GitHub Actions가 모든 걸 자동으로 실행 → SVG 생성 → README 업데이트

### 데이터 흐름 다이어그램 (초간단 버전)

```
프로필 카드:
GitHub API (2020-2025) → 파이 차트 → 0-profile-details.svg → README

주간 대시보드:
Slack 입력 → data.json (가산) ─┐
git 커밋 → data.json (덮어쓰기) ─┤
                                 ├→ weekly_dashboard.svg → README
월요일 리셋 → 히스토리 저장 ─────┘
```

### 숫자가 정확한 이유

```
✅ 커밋 수 (주간 대시보드):
   매번 git rev-list로 재계산 → 절대 틀릴 수 없음

✅ Slack 메트릭:
   가산 방식 → 여러 번 입력해도 누적됨

✅ 타임존:
   모든 계산이 KST 기준 → 일관성 보장

✅ 히스토리:
   월요일마다 스냅샷 저장 → 과거 데이터 보존
```

---

## 🚀 다음 단계

이제 시스템을 완벽하게 이해했으니:

1. **모니터링**: 매일 7 AM/PM 리마인더 받기
2. **입력**: Slack에 "IG TT HT Talks Chats Posts Run Gym" 순서로 숫자 입력
3. **확인**: README 새로고침 → 대시보드가 자동 업데이트됨!
4. **분석**: 주간 히스토리 테이블에서 진행 상황 추적

**더 궁금한 점이 있다면?**
- CLAUDE.md: 개발자용 상세 문서
- dashboard/README.md: 대시보드 설정 가이드
- .github/workflows/: 워크플로우 설정 파일

**행복한 그라인딩! 🔥**
